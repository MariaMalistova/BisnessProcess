query.user.find = select users.user_id, user_groups.user_group_id, user_groups.group_name, users.login, users.user_password, users.has_access from users inner join user_groups on users.user_role = user_groups.user_group_id where users.login = ? and users.user_password = ?
query.userGroup.byName = select user_group_id, group_name from user_groups where group_name = ?
query.user.select = select u.user_id, u.login, u.user_password, u.has_access,ug.user_group_id, ug.group_name from users u inner join user_groups ug on u.user_role = ug.user_group_id
query.userGroup.select = select user_group_id, group_name from user_groups
query.user.getbyid = select u.user_id, u.login, u.user_password, u.has_access,ug.user_group_id, ug.group_name from  users u inner join user_groups ug on u.user_role = ug.user_group_id where u.user_id = ?
query.user.update = update users set login = ?, user_password = ? where user_id = ?
query.user.add = insert into users(user_role, login, user_password, has_access) values (?,?,?,1)
query.user.delete = delete from users where user_id = ?
query.article.add = insert into article(author, text, step) values (?,?,1)
query.articles.selectAdmin = select a.article_id, a.author, u.login as author_login, a.text, a.step, ac.user_role, ug.group_name, s.step_role, a.moderator, um.login as moder, a.editor, ue.login as edit, a.corrector, uc.login as correct from article a join users u on a.author = u.user_id inner join steps s on a.step = s.step_id left join users um on a.moderator = um.user_id left join users ue on a.editor = ue.user_id left join users uc on a.corrector = uc.user_id inner join article_access ac on a.step = ac.step inner join user_groups ug on ac.user_role = ug.user_group_id where a.step = (select steps.step_id from steps inner join article_access on article_access.step = steps.step_id inner join user_groups on article_access.user_role = user_groups.user_group_id where user_groups.group_name='Administrator')
query.user.selectspecific = select u.user_id, u.login, ug.group_name from users u inner join user_groups ug on u.user_role = ug.user_group_id where ug.group_name = ?
query.article.assignmoder = update article set moderator = (select user_id from users where login = ?), step = (select step_id from steps where step_role = 'Reading') where article_id = ?
query.user.block = update users set has_access = ? where user_id = ?
query.articles.selectModer = select a.article_id, a.author, u.login as author_login, a.text, a.step, ac.user_role, ug.group_name, s.step_role, a.moderator, um.login as moder, a.editor, ue.login as edit, a.corrector, uc.login as correct from article a join users u on a.author = u.user_id inner join steps s on a.step = s.step_id left join users um on a.moderator = um.user_id left join users ue on a.editor = ue.user_id left join users uc on a.corrector = uc.user_id inner join article_access ac on a.step = ac.step inner join user_groups ug on ac.user_role = ug.user_group_id where a.step = (select steps.step_id from steps inner join article_access on article_access.step = steps.step_id inner join user_groups on article_access.user_role = user_groups.user_group_id where user_groups.group_name='Moderator') and a.moderator = ?
query.article.assigneditorcorrector = update article set editor = (select user_id from users where login = ?), corrector = (select user_id from users where login = ?),step = (select step_id from steps where step_role = 'Editing') where article_id = ?
query.article.delete = delete from article where article_id = ?
query.articles.assigneditor = select a.article_id, a.author, u.login as author_login, a.text, a.step, ac.user_role, ug.group_name, s.step_role, a.moderator, um.login as moder, a.editor, ue.login as edit, a.corrector, uc.login as correct from article a join users u on a.author = u.user_id inner join steps s on a.step = s.step_id left join users um on a.moderator = um.user_id left join users ue on a.editor = ue.user_id left join users uc on a.corrector = uc.user_id inner join article_access ac on a.step = ac.step inner join user_groups ug on ac.user_role = ug.user_group_id where a.step = (select steps.step_id from steps inner join article_access on article_access.step = steps.step_id inner join user_groups on article_access.user_role = user_groups.user_group_id where user_groups.group_name='Editor') and a.editor = ?
query.articles.assigncorrector = select a.article_id, a.author, u.login as author_login, a.text, a.step, ac.user_role, ug.group_name, s.step_role, a.moderator, um.login as moder, a.editor, ue.login as edit, a.corrector, uc.login as correct from article a join users u on a.author = u.user_id inner join steps s on a.step = s.step_id left join users um on a.moderator = um.user_id left join users ue on a.editor = ue.user_id left join users uc on a.corrector = uc.user_id inner join article_access ac on a.step = ac.step inner join user_groups ug on ac.user_role = ug.user_group_id where a.step = (select steps.step_id from steps inner join article_access on article_access.step = steps.step_id inner join user_groups on article_access.user_role = user_groups.user_group_id where user_groups.group_name='Corrector') and a.corrector = ?
query.article.update = update article set text = ? where article_id = ?
query.article.getbyid = select a.article_id, a.author, u.login as author_login, a.text, a.step, ac.user_role, ug.group_name, s.step_role, a.moderator, um.login as moder, a.editor, ue.login as edit, a.corrector, uc.login as correct from article a join users u on a.author = u.user_id inner join steps s on a.step = s.step_id left join users um on a.moderator = um.user_id left join users ue on a.editor = ue.user_id left join users uc on a.corrector = uc.user_id inner join article_access ac on a.step = ac.step inner join user_groups ug on ac.user_role = ug.user_group_id where a.article_id = ?
query.steps.getbyid = select s.step_id, s.step_role from steps s where s.step_id = ?
query.articles.assignnext = update article set step = (select step_id from steps where step_role = ?) where article_id = ?
query.articles.selectdone = select a.article_id, a.author, u.login as author_login, a.text, a.step, ac.user_role, ug.group_name, s.step_role, a.moderator, um.login as moder, a.editor, ue.login as edit, a.corrector, uc.login as correct from article a join users u on a.author = u.user_id inner join steps s on a.step = s.step_id left join users um on a.moderator = um.user_id left join users ue on a.editor = ue.user_id left join users uc on a.corrector = uc.user_id inner join article_access ac on a.step = ac.step inner join user_groups ug on ac.user_role = ug.user_group_id where a.step = (select steps.step_id from steps inner join article_access on article_access.step = steps.step_id inner join user_groups on article_access.user_role = user_groups.user_group_id where user_groups.group_name='Author')
